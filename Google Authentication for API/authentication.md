##Google Authentication on the API

==

###1. Download Google Authenticator

for Android:

https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2

for iPhone:

https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8



###2. Login to your account
The APIs can be accessed via swagger-ui at https://www.gatecoin.com/api/swagger-ui/index.html.
Scroll to /Auth/Login API and enter your user id and password to login.

###3. Request the key

Post request to /Account/GoogleAuth (leave AuthCode blank)

The response will be in this format:
```json
{
"secretKey": "gnava4zyo5beeq2g",
"qrCode": "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", 
 "responseStatus": {
    "message": "OK"
  }
}
```

The qrCode is in jpeg format with base64 encoding.


###4. On the Phone

Launch Google Authenticator on the phone.

Add an account by scanning a QRcode : click "Open QRCode" in swagger, a QRcode will show up. 
Otherwise enter the secret key manually, the secret key is the "secretkey" response from previous request.

###5. Activate the option in the API

The `PUT /Account/SecuritySettings` can be used to enable/disable GoogleAuth for various validation requests. 

For example, change the value of LoginValidation to 2-Google Auth and send the request: ValidationCode is required at login now.


